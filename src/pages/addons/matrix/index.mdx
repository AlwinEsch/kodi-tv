import { graphql } from "gatsby"
import IconList from 'src/components/IconList'
import MetadataHeader from "src/components/SiteMetadata"

<MetadataHeader title="Matrix | Add-Ons" />

# Featured Add-Ons

<IconList items={props.data.FeaturedAddons.edges} linkroot='/addons/matrix/' />

# New Additions

<IconList items={props.data.NewAddons.edges} linkroot='/addons/matrix/' />

# Recently Updated

<IconList items={props.data.UpdatedAddons.edges} linkroot='/addons/matrix/' />

# Categories

## Look and Feel

<IconList items={props.data.LookAndFeel.edges} linkroot='/addons/matrix/category/' />

## Information Providers

<IconList items={props.data.InformationProviders.edges} linkroot='/addons/matrix/category/' />

## Games

<IconList items={props.data.Games.edges} linkroot='/addons/matrix/category/' />

## Others

<IconList items={props.data.Others.edges} linkroot='/addons/matrix/category/' />


export const pageQuery = graphql`
  query {
    Games: allMatrixCategory(sort: {fields: name, order: ASC}, filter: {grouping: {eq: "Games"}}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    InformationProviders: allMatrixCategory(sort: {fields: name, order: ASC}, filter: {grouping: {eq: "Information providers"}}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    LookAndFeel: allMatrixCategory(sort: {fields: name, order: ASC}, filter: {grouping: {eq: "Look and feel"}}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    Others: allMatrixCategory(sort: {fields: name, order: ASC}, filter: {grouping: {eq: "Other"}}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    FeaturedAddons: allMatrixAddon(filter: {featured: {eq: "true"}}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    NewAddons: allMatrixAddon(limit: 5, filter: {agetype: {eq: "new"}}, sort: {fields: firstseen, order: DESC}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
    UpdatedAddons: allMatrixAddon(limit: 5, filter: {agetype: {eq: "existing"}}, sort: {fields: lastupdate, order: DESC}) {
      edges {
        node {
          name
          slug
          icon
        }
      }
    }
  }
`